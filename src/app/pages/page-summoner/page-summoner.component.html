<div *ngIf="error" fxLayoutAlign="center start">
  <p>Something went wrong...</p>
</div>
<div *ngIf="!doneLoadingSummoner && !error"></div>
<div
  *ngIf="doneLoadingSummoner && !error"
  style="margin-top: 20px;"
  fxLayout="row"
  fxLayoutAlign="center start"
>
  <div
    fxLayout="column"
    ngStyle.gt-md="width: 70%;"
    ngStyle.lt-md="width: 90%;"
    fxLayoutGap="10px"
  >
    <div
      fxLayout="row"
      fxLayoutGap.gt-md="20px"
      ngClass.gt-md="header"
      ngClass.lt-md="m-header"
    >
      <img src="{{ profileIconUrl + summoner.profileIconId }}.png" />
      <div fxLayout="column" fxLayoutGap="0px">
        <h1 class="mat-display-1">{{ summoner.name }}</h1>
        <h2 class="mat-subheading-1">
          Summoner Level {{ summoner.summonerLevel }}
        </h2>
      </div>
    </div>
    <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="10px">
      <div fxLayout="column" fxFlex="20" fxLayoutGap="5px">
        <div *ngFor="let ranked of rankedData" fxLayout="column">
          <mat-card>
            <mat-card-header>
              <img
                mat-card-avatar
                src="../../../assets/images/ranked/Emblem_{{ ranked.tier }}.png"
              />
              <mat-card-title
                >{{ ranked.tier }} {{ ranked.rank }}</mat-card-title
              >
              <mat-card-subtitle>{{ ranked.queueType }}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <div
                fxLayout="column"
                fxLayoutGap="2px"
                fxLayoutAlign="start center"
              >
                <h2 class="mat-h2">
                  {{ ranked.leaguePoints }} LP / {{ ranked.wins }}W
                  {{ ranked.losses }}L
                </h2>
                <p>Winratio: {{ ranked.winratio }}%</p>
              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
      <div fxLayout="row" fxLayout.lt-md="column" fxLayoutGap="10px">
        <div fxLayout="column" fxFlex="20" fxLayoutGap="5px">
          <div *ngFor="let ranked of rankedData" fxLayout="column">
            <mat-card>
              <mat-card-header>
                <img mat-card-avatar src="../../../assets/images/ranked/Emblem_{{ ranked.tier }}.png" />
                <mat-card-title>{{ ranked.tier }} {{ ranked.rank }}</mat-card-title>
                <mat-card-subtitle>{{ ranked.queueType }}</mat-card-subtitle>
              </mat-card-header>
              <mat-card-content>
                <div fxLayout="column" fxLayoutGap="2px" fxLayoutAlign="start center">
                  <h2 class="mat-h2">
                    {{ ranked.leaguePoints }} LP / {{ ranked.wins }}W
                    {{ ranked.losses }}L
                  </h2>
                  <p>Winratio: {{ ranked.winratio }}%</p>
                </div>
              </mat-card-content>
            </mat-card>
          </div>
        </div>
        <div *ngIf="!doneLoadingChampionMastery" fxFlex="80">
          <mat-spinner></mat-spinner>
        </div>
        <div *ngIf="doneLoadingChampionMastery" fxLayout="column" fxFlex="80">
          <mat-tab-group dynamicHeight>
            <mat-tab label="Champion Mastery">
              <div fxLayout="row wrap" fxLayoutAlign="center start" fxLayoutGap="20px">
                <div style="padding-bottom: 5px;" fxLayout="column" ngClass.gt-md="champion" ngClass.lt-md="m-champion"
                  *ngFor="let mastery of mastery" fxFlex="15" fxFlex.lt-md="40">
                  <mat-card>
                    <mat-card-content>
                      <img mat-card-image src="{{
                        championLoadingUrl + mastery.champion.devname
                      }}_0.jpg" />
                    </mat-card-content>
                    <mat-card-content fxLayout="center center">
                      <p>{{ mastery.champion.name }}</p>
                    </mat-card-content>
                    <mat-card-content>
                      <div fxFlex="40" fxLayoutAlign="center center" fxLayoutGap="0">
                        <img *ngIf="mastery.championLevel >= 4" style="width: 100%; height: auto;" src="https://raw.communitydragon.org/latest/game/assets/ux/mastery/mastery_icon_{{
                          mastery.championLevel
                        }}.png" />
                        <img *ngIf="mastery.championLevel < 4" style="width: 100%; height: auto;"
                          src="https://raw.communitydragon.org/latest/game/assets/ux/mastery/mastery_icon_default.png" />
                      </div>
                      <div fxFlex="60" fxLayoutAlign="center center">
                        {{ mastery.championPoints }}
                      </div>
                    </mat-card-content>
                  </mat-card>
                </div>
              </div>
            </div>
          </mat-tab>
          <mat-tab label="Match History">
            <div fxLayout="column">
              <div
                *ngFor="let game of gameList; let i = index"
                style="margin: 10px;"
                id="game-{{ i }}"
              >
                <mat-card [ngClass]="game.won ? 'match-won' : 'match-lost'">
                  <div fxLayout="row" fxLayoutGap="5px">
                    <mat-card-header>
                      <mat-card-title fxLayout="row" fxLayoutGap="10px">{{
                        game.queueType
                      }}</mat-card-title>
                      <mat-card-subtitle>
                        {{ game.gameCreation.toLocaleDateString() }}
                        {{ game.gameCreation.getHours() }}:{{
                          (game.gameCreation.getMinutes() < 10 ? '0' : '') +
                            game.gameCreation.getMinutes()
                        }}
                      </mat-card-subtitle>
                    </mat-card-header>
                    <div>
                      <img
                        mat-card-avatar
                        src="{{ championIconUrl + game.champion.devname }}.png"
                      />
                    </div>
                    <div fxLayout="column">
                      <div >
                        <img style="width: 100%; height: auto;" src="{{ summonerSpellUrl + game.summonerSpell1.summonerSpellURL }}">
                      </div>
                      <div >
                        <img src="{{ summonerSpellUrl + game.summonerSpell2.summonerSpellURL }}">
                      </div>
                    </div>
                    <div fxLayout="column">
                      <div>
                        {{ game.kills }} / {{ game.deaths }} / {{ game.assists }}
                      </div>
                      <div></div>
                    </div>

                  </div>

                  <mat-card-content fxLayout="column"> </mat-card-content>
                </mat-card>
              </div>
            </mat-tab>
          </mat-tab-group>
        </div>
      </div>
    </div>
  </div>

  <div fxFlex style="color: lightgray; padding: 10px;">
    LoLLookup.nl isn't endorsed by Riot Games and doesn't reflect the views or opinions of Riot Games or anyone
    officially
    involved in producing or managing Riot Games properties. Riot Games, and all associated properties are trademarks or
    registered trademarks of Riot Games, Inc.
  </div>
</div>
